<div class="flex flex-col min-h-screen bg-[var(--light-gray)]">
  <!-- Full-width header -->
  <app-header class="w-full"></app-header>
  
  <div class="container mx-auto px-4 py-2 flex-1 max-w-7xl">
    <!-- Navigation bar -->
    <app-navigation class="mb-4"></app-navigation>
    
    <!-- Main content grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left column (2/3 width on desktop) -->
      <div class="lg:col-span-2">
        <div class="bg-white rounded-lg border border-[var(--border-color)] shadow-sm p-4 mb-6">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center">
              <h1 class="text-xl font-semibold text-[var(--text-primary)]">Työlista</h1>
              <div class="ml-2 px-3 py-1 bg-[var(--secondary-color)] rounded-full text-xs font-medium text-[var(--text-secondary)]">Kalenteri</div>
            </div>
            
            <button mat-raised-button color="primary" (click)="openPatientForm()" class="bg-[var(--accent-color)]">
              <mat-icon class="mr-1">add</mat-icon> Uusi potilastapahtuma
            </button>
          </div>
          
          <div class="flex mb-4 border-b border-[var(--border-color)]">
            <button class="px-4 py-2 text-sm font-medium border-b-2 border-[var(--accent-color)] text-[var(--accent-color)]">Edellinen lista</button>
            <button class="px-4 py-2 text-sm font-medium text-[var(--text-secondary)]">Huomisen lista</button>
          </div>
          
          <app-appointment-card *ngFor="let appointment of appointments" [appointment]="appointment"></app-appointment-card>
        </div>
      </div>
      
      <!-- Right column (1/3 width on desktop) -->
      <div class="lg:col-span-1">
        <!-- Grid cards section -->
        <div class="bg-white rounded-lg border border-[var(--border-color)] shadow-sm p-4 mb-6">
          <div class="grid grid-cols-2 gap-4">
            <app-grid-card icon="description" label="Sairaalahakde"></app-grid-card>
            <app-grid-card icon="science" label="Laboratoriotulos"></app-grid-card>
            <app-grid-card icon="event_note" label="Todistukset"></app-grid-card>
            <app-grid-card icon="medication" label="Resepti"></app-grid-card>
            <app-grid-card icon="image" label="Kuvantaminen"></app-grid-card>
            <app-grid-card icon="list_alt" label="Lähettelista"></app-grid-card>
          </div>
        </div>
        
        <!-- Recent patients section -->
        <div class="bg-white rounded-lg border border-[var(--border-color)] shadow-sm p-4">
          <h2 class="text-base font-medium mb-3 text-[var(--text-primary)]">Viimeisimmät potilaat</h2>
          
          <div class="relative mb-3">
            <mat-form-field appearance="outline" class="w-full">
              <mat-icon matPrefix class="text-[var(--text-secondary)] mr-2">search</mat-icon>
              <input matInput placeholder="Etsi potilaan nimi tai henkilötunnus..." [(ngModel)]="searchTerm">
            </mat-form-field>
          </div>
          
          <app-patient-info *ngFor="let patient of filteredPatients" [patient]="patient"></app-patient-info>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Patient Form Dialog -->
<div *ngIf="showPatientForm()" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg w-full max-w-lg">
    <app-patient-form (close)="closePatientForm()"></app-patient-form>
  </div>
</div> 