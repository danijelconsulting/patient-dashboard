<div class="mb-3 bg-white overflow-hidden shadow-sm">
  <!-- Header info -->

    <div class="py-1 flex items-start">
      <!-- Time and Patient Info -->
      <div class="flex items-center flex-wrap justify-start gap-2 flex-1">
        <div class="flex items-center text-[#6B7280] min-w-0 mr-auto">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2 flex-shrink-0"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
              clip-rule="evenodd"
            />
          </svg>
          <span class="text-sm font-medium whitespace-nowrap">{{
            appointment.time
          }}</span>
          <span class="text-sm mx-2 flex-shrink-0">—</span>
          <span class="text-sm font-medium truncate">{{
            appointment.name
          }}</span>
          <span class="text-sm mx-2 flex-shrink-0">—</span>
          <span class="text-sm whitespace-nowrap">{{ appointment.id }}</span>
          <span class="text-sm mx-2 text-gray-300">|</span>
          <span class="text-sm text-gray-600">{{ appointment.status }}</span>
        </div>

        <!-- Action Buttons -->
        <div class="flex items-stretch gap-2">
          <button
            class="inline-flex text-nowrap items-center px-3 py-1 text-xs font-medium text-[#006ADC] bg-[#EBF5FF] rounded hover:bg-[#D1E9FF]"
          >
            Join Remote
          </button>
          <button
            class="inline-flex text-nowrap items-center px-3 py-1 text-xs font-medium text-[#006ADC] bg-[#EBF5FF] rounded hover:bg-[#D1E9FF]"
          >
            Open Patient
          </button>
          <button
            class="inline-flex text-nowrap items-center px-3 py-1 text-xs font-medium text-[#006ADC] bg-[#EBF5FF] rounded hover:bg-[#D1E9FF]"
          >
            Messages
          </button>
        </div>
      </div>
      <!-- Expand Button -->
      <button
        class="p-1 hover:bg-gray-100 rounded-full transition-transform duration-200 cursor-pointer"
        [class.rotate-180]="isExpanded"
        (click)="toggleExpand()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 text-gray-400"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </div>


  <!-- Expandable content -->
  <div *ngIf="isExpanded">
    <!-- Note/Message section -->
    <div
      *ngIf="appointment.note"
      class="px-10 py-3 text-sm text-gray-600 mx-4 my-2 rounded-lg bg-[#F8F9FC] border-t border-gray-100"
    >
      {{ appointment.note }}
    </div>
  </div>
</div>
